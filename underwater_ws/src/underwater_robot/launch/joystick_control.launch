<?xml version="1.0"?>
<launch>
    <arg name="visualize" default="True"/>
    <arg name="rviz" default="False"/>
    <arg name="record" default="False"/>
    <arg name="bag_name" default="sensor"/>

    <!--Set up the confiuration for experiment--> 
    <node pkg="underwater_robot" type="configs.py" name="set_configuration"/>  
    <!--arduino node -->
    <include file="$(find underwater_robot)/launch/arduino_nodes.launch"/>
    
    <!--joystick node -->
	<node pkg="joy" type="joy_node" name="joy">
	</node>
    <node pkg="underwater_robot" type="joystick_control" name="joystick_control"/>	

    <!-- visaulize -->
    <node pkg="underwater_robot" type="sensor_visualize.py" name="sensor_visualize" if="$(arg visualize)"/>

    <!-- rviz visualize robot state -->
    <include file="$(find underwater_sim)/launch/sensor_broadcast.launch" if="$(arg rviz)"/>
    
    <!-- record bag file -->
    <include file="$(find underwater_robot)/launch/sensor_record.launch" if="$(arg record)">
        <arg name="bag_name" value="$(arg bag_name)"/>
    </include>
</launch>
